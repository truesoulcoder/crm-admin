/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/document-templates/route";
exports.ids = ["app/api/document-templates/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocument-templates%2Froute&page=%2Fapi%2Fdocument-templates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocument-templates%2Froute.ts&appDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocument-templates%2Froute&page=%2Fapi%2Fdocument-templates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocument-templates%2Froute.ts&appDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_egolu_OneDrive_Documents_gh_crm_admin_src_app_api_document_templates_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/document-templates/route.ts */ \"(rsc)/./src/app/api/document-templates/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/document-templates/route\",\n        pathname: \"/api/document-templates\",\n        filename: \"route\",\n        bundlePath: \"app/api/document-templates/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\egolu\\\\OneDrive\\\\Documents\\\\gh\\\\crm-admin\\\\src\\\\app\\\\api\\\\document-templates\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_egolu_OneDrive_Documents_gh_crm_admin_src_app_api_document_templates_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZkb2N1bWVudC10ZW1wbGF0ZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRvY3VtZW50LXRlbXBsYXRlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRvY3VtZW50LXRlbXBsYXRlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNlZ29sdSU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDZ2glNUNjcm0tYWRtaW4lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2Vnb2x1JTVDT25lRHJpdmUlNUNEb2N1bWVudHMlNUNnaCU1Q2NybS1hZG1pbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDaUQ7QUFDOUg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGVnb2x1XFxcXE9uZURyaXZlXFxcXERvY3VtZW50c1xcXFxnaFxcXFxjcm0tYWRtaW5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZG9jdW1lbnQtdGVtcGxhdGVzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kb2N1bWVudC10ZW1wbGF0ZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kb2N1bWVudC10ZW1wbGF0ZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2RvY3VtZW50LXRlbXBsYXRlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGVnb2x1XFxcXE9uZURyaXZlXFxcXERvY3VtZW50c1xcXFxnaFxcXFxjcm0tYWRtaW5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZG9jdW1lbnQtdGVtcGxhdGVzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocument-templates%2Froute&page=%2Fapi%2Fdocument-templates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocument-templates%2Froute.ts&appDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/document-templates/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/document-templates/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\n // Updated import\n // For createServerClient\n\n// Refined Zod schema for document templates, aligning with assumed DB columns\nconst documentTemplateSchema = zod__WEBPACK_IMPORTED_MODULE_3__.z.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1, 'Template name cannot be empty.'),\n    template_type: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1, 'Template type cannot be empty.'),\n    body: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1, 'Template body (content) cannot be empty.'),\n    subject: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional().nullable(),\n    available_placeholders: zod__WEBPACK_IMPORTED_MODULE_3__.z.array(zod__WEBPACK_IMPORTED_MODULE_3__.z.string()).optional().nullable(),\n    is_active: zod__WEBPACK_IMPORTED_MODULE_3__.z.boolean().optional().default(true)\n});\n// Schema for creation (can omit fields like is_active if always defaulted)\nconst createDocumentTemplateSchema = documentTemplateSchema.omit({\n    is_active: true\n});\n// Helper to get Supabase client for Route Handlers\nfunction getSupabaseRouteHandlerClient() {\n    const cookieStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://ygkbhfdqvrluegsrjpaj.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlna2JoZmRxdnJsdWVnc3JqcGFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU5MzQwNzYsImV4cCI6MjA2MTUxMDA3Nn0.fsY2nqATRnpwsy53eHQjWM3dno0r2GbPLuUhEn7s-UM\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                cookieStore.set({\n                    name,\n                    value,\n                    ...options\n                });\n            },\n            remove (name, options) {\n                cookieStore.set({\n                    name,\n                    value: '',\n                    ...options\n                });\n            }\n        }\n    });\n}\n// GET handler to fetch document templates for the authenticated user\nasync function GET(req) {\n    const supabase = getSupabaseRouteHandlerClient();\n    try {\n        const { data: { user }, error: authError } = await supabase.auth.getUser();\n        if (authError || !user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(req.url);\n        const page = parseInt(searchParams.get('page') || '1', 10);\n        const pageSize = parseInt(searchParams.get('pageSize') || '10', 10);\n        const filterIsActive = searchParams.get('is_active'); // Optional filter\n        if (isNaN(page) || page < 1) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid page number.'\n            }, {\n                status: 400\n            });\n        }\n        if (isNaN(pageSize) || pageSize < 1 || pageSize > 100) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid pageSize. Must be between 1 and 100.'\n            }, {\n                status: 400\n            });\n        }\n        const from = (page - 1) * pageSize;\n        const to = from + pageSize - 1;\n        let query = supabase.from('document_templates').select('*', {\n            count: 'exact'\n        }).eq('user_id', user.id);\n        if (filterIsActive === 'true' || filterIsActive === 'false') {\n            query = query.eq('is_active', filterIsActive === 'true');\n        } else {\n            // Default to fetching active templates if no specific filter is provided\n            query = query.eq('is_active', true);\n        }\n        query = query.order('name', {\n            ascending: true\n        }).range(from, to);\n        const { data, error, count } = await query;\n        if (error) {\n            console.error('Error fetching document templates:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            data,\n            totalCount: count,\n            page,\n            pageSize,\n            totalPages: count ? Math.ceil(count / pageSize) : 0\n        });\n    } catch (err) {\n        console.error('Unexpected error in GET /api/document-templates:', err);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: err.message || 'An unexpected error occurred.'\n        }, {\n            status: 500\n        });\n    }\n}\n// POST handler to create a new document template\nasync function POST(request) {\n    const supabase = getSupabaseRouteHandlerClient();\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n    if (authError || !user) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Unauthorized'\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const body = await request.json();\n        // Use createDocumentTemplateSchema which expects DB-aligned field names\n        // If API receives 'content' and 'type', they need to be mapped before validation or Zod schema adjusted\n        // Assuming API client sends 'name', 'template_type', 'body', 'subject', etc.\n        const validation = createDocumentTemplateSchema.safeParse(body);\n        if (!validation.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid input',\n                details: validation.error.flatten()\n            }, {\n                status: 400\n            });\n        }\n        const templateData = {\n            ...validation.data,\n            user_id: user.id,\n            is_active: true\n        };\n        const { data, error } = await supabase.from('document_templates').insert(templateData).select().single();\n        if (error) {\n            console.error('Supabase error creating template:', error);\n            if (error.code === '23505') {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: 'A template with this name already exists for your account.'\n                }, {\n                    status: 409\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message || 'Failed to create template'\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data, {\n            status: 201\n        });\n    } catch (e) {\n        console.error('Error in POST /api/document-templates:', e);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: e.message || 'An unexpected error occurred'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9kb2N1bWVudC10ZW1wbGF0ZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdEO0FBQ2UsQ0FBQyxpQkFBaUI7QUFDbEQsQ0FBQyx5QkFBeUI7QUFDekM7QUFHeEIsOEVBQThFO0FBQzlFLE1BQU1JLHlCQUF5QkQsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUN0Q0MsTUFBTUgsa0NBQUNBLENBQUNJLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEdBQUc7SUFDeEJDLGVBQWVOLGtDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHO0lBQ2pDRSxNQUFNUCxrQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBRztJQUN4QkcsU0FBU1Isa0NBQUNBLENBQUNJLE1BQU0sR0FBR0ssUUFBUSxHQUFHQyxRQUFRO0lBQ3ZDQyx3QkFBd0JYLGtDQUFDQSxDQUFDWSxLQUFLLENBQUNaLGtDQUFDQSxDQUFDSSxNQUFNLElBQUlLLFFBQVEsR0FBR0MsUUFBUTtJQUMvREcsV0FBV2Isa0NBQUNBLENBQUNjLE9BQU8sR0FBR0wsUUFBUSxHQUFHTSxPQUFPLENBQUM7QUFFNUM7QUFFQSwyRUFBMkU7QUFDM0UsTUFBTUMsK0JBQStCZix1QkFBdUJnQixJQUFJLENBQUM7SUFBRUosV0FBVztBQUFLO0FBZW5GLG1EQUFtRDtBQUNuRCxTQUFTSztJQUNQLE1BQU1DLGNBQWNwQixxREFBT0E7SUFDM0IsT0FBT0QsaUVBQWtCQSxDQUN2QnNCLDBDQUFvQyxFQUNwQ0Esa05BQXlDLEVBQ3pDO1FBQ0VyQixTQUFTO1lBQ1B5QixLQUFJckIsSUFBWTtnQkFBSSxPQUFPZ0IsWUFBWUssR0FBRyxDQUFDckIsT0FBT3NCO1lBQU87WUFDekRDLEtBQUl2QixJQUFZLEVBQUVzQixLQUFhLEVBQUVFLE9BQXNCO2dCQUFJUixZQUFZTyxHQUFHLENBQUM7b0JBQUV2QjtvQkFBTXNCO29CQUFPLEdBQUdFLE9BQU87Z0JBQUM7WUFB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QUVwQixRQUFRO1lBQUk7UUFDbEc7UUFFQSxPQUFPMUMscURBQVlBLENBQUN5QyxJQUFJLENBQUNOLE1BQU07WUFBRU8sUUFBUTtRQUFJO0lBQy9DLEVBQUUsT0FBT3NDLEdBQVE7UUFDZm5CLFFBQVF4QixLQUFLLENBQUMsMENBQTBDMkM7UUFDeEQsT0FBT2hGLHFEQUFZQSxDQUFDeUMsSUFBSSxDQUFDO1lBQUVKLE9BQU8yQyxFQUFFbEIsT0FBTyxJQUFJO1FBQStCLEdBQUc7WUFBRXBCLFFBQVE7UUFBSTtJQUNqRztBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGVnb2x1XFxPbmVEcml2ZVxcRG9jdW1lbnRzXFxnaFxcY3JtLWFkbWluXFxzcmNcXGFwcFxcYXBpXFxkb2N1bWVudC10ZW1wbGF0ZXNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCwgdHlwZSBDb29raWVPcHRpb25zIH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7IC8vIFVwZGF0ZWQgaW1wb3J0XHJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnOyAvLyBGb3IgY3JlYXRlU2VydmVyQ2xpZW50XHJcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJ0AvdHlwZXNfZGInOyAvLyBBc3N1bWluZyB0aGlzIGlzIHlvdXIgU3VwYWJhc2UgZ2VuZXJhdGVkIHR5cGVzIHBhdGhcclxuXHJcbi8vIFJlZmluZWQgWm9kIHNjaGVtYSBmb3IgZG9jdW1lbnQgdGVtcGxhdGVzLCBhbGlnbmluZyB3aXRoIGFzc3VtZWQgREIgY29sdW1uc1xyXG5jb25zdCBkb2N1bWVudFRlbXBsYXRlU2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIG5hbWU6IHouc3RyaW5nKCkubWluKDEsICdUZW1wbGF0ZSBuYW1lIGNhbm5vdCBiZSBlbXB0eS4nKSxcclxuICB0ZW1wbGF0ZV90eXBlOiB6LnN0cmluZygpLm1pbigxLCAnVGVtcGxhdGUgdHlwZSBjYW5ub3QgYmUgZW1wdHkuJyksIC8vIGUuZy4sICdlbWFpbCcsICdsb2lfZG9jdW1lbnQnXHJcbiAgYm9keTogei5zdHJpbmcoKS5taW4oMSwgJ1RlbXBsYXRlIGJvZHkgKGNvbnRlbnQpIGNhbm5vdCBiZSBlbXB0eS4nKSxcclxuICBzdWJqZWN0OiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxuICBhdmFpbGFibGVfcGxhY2Vob2xkZXJzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcclxuICBpc19hY3RpdmU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCkuZGVmYXVsdCh0cnVlKSxcclxuICAvLyB1c2VyX2lkIHdpbGwgYmUgYWRkZWQgZnJvbSBzZXNzaW9uIGZvciBjcmVhdGUsIGlkL2NyZWF0ZWRfYXQvdXBkYXRlZF9hdCBhcmUgREIgbWFuYWdlZFxyXG59KTtcclxuXHJcbi8vIFNjaGVtYSBmb3IgY3JlYXRpb24gKGNhbiBvbWl0IGZpZWxkcyBsaWtlIGlzX2FjdGl2ZSBpZiBhbHdheXMgZGVmYXVsdGVkKVxyXG5jb25zdCBjcmVhdGVEb2N1bWVudFRlbXBsYXRlU2NoZW1hID0gZG9jdW1lbnRUZW1wbGF0ZVNjaGVtYS5vbWl0KHsgaXNfYWN0aXZlOiB0cnVlIH0pO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudFRlbXBsYXRlIHtcclxuICBpZDogc3RyaW5nOyAvLyBVVUlEXHJcbiAgdXNlcl9pZDogc3RyaW5nOyAvLyBVVUlEIC0gQWRkZWQgZm9yIGNsYXJpdHksIHRob3VnaCBvZnRlbiBub3QgcmV0dXJuZWQgZm9yIGV2ZXJ5IGl0ZW0gaW4gYSBsaXN0XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHRlbXBsYXRlX3R5cGU6IHN0cmluZztcclxuICBib2R5OiBzdHJpbmc7XHJcbiAgc3ViamVjdD86IHN0cmluZyB8IG51bGw7XHJcbiAgYXZhaWxhYmxlX3BsYWNlaG9sZGVycz86IHN0cmluZ1tdIHwgbnVsbDtcclxuICBpc19hY3RpdmU6IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcclxufVxyXG5cclxuLy8gSGVscGVyIHRvIGdldCBTdXBhYmFzZSBjbGllbnQgZm9yIFJvdXRlIEhhbmRsZXJzXHJcbmZ1bmN0aW9uIGdldFN1cGFiYXNlUm91dGVIYW5kbGVyQ2xpZW50KCkge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xyXG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQ8RGF0YWJhc2U+KFxyXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcclxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcclxuICAgIHtcclxuICAgICAgY29va2llczoge1xyXG4gICAgICAgIGdldChuYW1lOiBzdHJpbmcpIHsgcmV0dXJuIGNvb2tpZVN0b3JlLmdldChuYW1lKT8udmFsdWU7IH0sXHJcbiAgICAgICAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9uczogQ29va2llT3B0aW9ucykgeyBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZSwgLi4ub3B0aW9ucyB9KTsgfSxcclxuICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zKSB7IGNvb2tpZVN0b3JlLnNldCh7IG5hbWUsIHZhbHVlOiAnJywgLi4ub3B0aW9ucyB9KTsgfSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG4vLyBHRVQgaGFuZGxlciB0byBmZXRjaCBkb2N1bWVudCB0ZW1wbGF0ZXMgZm9yIHRoZSBhdXRoZW50aWNhdGVkIHVzZXJcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZVJvdXRlSGFuZGxlckNsaWVudCgpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgIGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxLnVybCk7XHJcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJywgMTApO1xyXG4gICAgY29uc3QgcGFnZVNpemUgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlU2l6ZScpIHx8ICcxMCcsIDEwKTtcclxuICAgIGNvbnN0IGZpbHRlcklzQWN0aXZlID0gc2VhcmNoUGFyYW1zLmdldCgnaXNfYWN0aXZlJyk7IC8vIE9wdGlvbmFsIGZpbHRlclxyXG5cclxuICAgIGlmIChpc05hTihwYWdlKSB8fCBwYWdlIDwgMSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcGFnZSBudW1iZXIuJyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTmFOKHBhZ2VTaXplKSB8fCBwYWdlU2l6ZSA8IDEgfHwgcGFnZVNpemUgPiAxMDApIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHBhZ2VTaXplLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwLicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmcm9tID0gKHBhZ2UgLSAxKSAqIHBhZ2VTaXplO1xyXG4gICAgY29uc3QgdG8gPSBmcm9tICsgcGFnZVNpemUgLSAxO1xyXG5cclxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdkb2N1bWVudF90ZW1wbGF0ZXMnKVxyXG4gICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JyB9KVxyXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKTtcclxuXHJcbiAgICBpZiAoZmlsdGVySXNBY3RpdmUgPT09ICd0cnVlJyB8fCBmaWx0ZXJJc0FjdGl2ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdpc19hY3RpdmUnLCBmaWx0ZXJJc0FjdGl2ZSA9PT0gJ3RydWUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIERlZmF1bHQgdG8gZmV0Y2hpbmcgYWN0aXZlIHRlbXBsYXRlcyBpZiBubyBzcGVjaWZpYyBmaWx0ZXIgaXMgcHJvdmlkZWRcclxuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnaXNfYWN0aXZlJywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KS5yYW5nZShmcm9tLCB0byk7XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHF1ZXJ5O1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkb2N1bWVudCB0ZW1wbGF0ZXM6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIGRhdGEsXHJcbiAgICAgIHRvdGFsQ291bnQ6IGNvdW50LFxyXG4gICAgICBwYWdlLFxyXG4gICAgICBwYWdlU2l6ZSxcclxuICAgICAgdG90YWxQYWdlczogY291bnQgPyBNYXRoLmNlaWwoY291bnQgLyBwYWdlU2l6ZSkgOiAwLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3IgaW4gR0VUIC9hcGkvZG9jdW1lbnQtdGVtcGxhdGVzOicsIGVycik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuJyB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUE9TVCBoYW5kbGVyIHRvIGNyZWF0ZSBhIG5ldyBkb2N1bWVudCB0ZW1wbGF0ZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VSb3V0ZUhhbmRsZXJDbGllbnQoKTtcclxuICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICBpZiAoYXV0aEVycm9yIHx8ICF1c2VyKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICAvLyBVc2UgY3JlYXRlRG9jdW1lbnRUZW1wbGF0ZVNjaGVtYSB3aGljaCBleHBlY3RzIERCLWFsaWduZWQgZmllbGQgbmFtZXNcclxuICAgIC8vIElmIEFQSSByZWNlaXZlcyAnY29udGVudCcgYW5kICd0eXBlJywgdGhleSBuZWVkIHRvIGJlIG1hcHBlZCBiZWZvcmUgdmFsaWRhdGlvbiBvciBab2Qgc2NoZW1hIGFkanVzdGVkXHJcbiAgICAvLyBBc3N1bWluZyBBUEkgY2xpZW50IHNlbmRzICduYW1lJywgJ3RlbXBsYXRlX3R5cGUnLCAnYm9keScsICdzdWJqZWN0JywgZXRjLlxyXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IGNyZWF0ZURvY3VtZW50VGVtcGxhdGVTY2hlbWEuc2FmZVBhcnNlKGJvZHkpO1xyXG5cclxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBpbnB1dCcsIGRldGFpbHM6IHZhbGlkYXRpb24uZXJyb3IuZmxhdHRlbigpIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge1xyXG4gICAgICAuLi52YWxpZGF0aW9uLmRhdGEsXHJcbiAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXHJcbiAgICAgIGlzX2FjdGl2ZTogdHJ1ZSwgLy8gRXhwbGljaXRseSBzZXQsIHRob3VnaCBjcmVhdGUgc2NoZW1hIGRlZmF1bHRzIGl0IGlmIG5vdCBvbWl0dGVkXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdkb2N1bWVudF90ZW1wbGF0ZXMnKVxyXG4gICAgICAuaW5zZXJ0KHRlbXBsYXRlRGF0YSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3IgY3JlYXRpbmcgdGVtcGxhdGU6JywgZXJyb3IpO1xyXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJzIzNTA1JykgeyAvLyBQb3N0Z3JlcyB1bmlxdWUgdmlvbGF0aW9uIGVycm9yIGNvZGVcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0EgdGVtcGxhdGUgd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMgZm9yIHlvdXIgYWNjb3VudC4nIH0sIHsgc3RhdHVzOiA0MDkgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgdGVtcGxhdGUnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRhdGEsIHsgc3RhdHVzOiAyMDEgfSk7XHJcbiAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBQT1NUIC9hcGkvZG9jdW1lbnQtdGVtcGxhdGVzOicsIGUpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiY29va2llcyIsInoiLCJkb2N1bWVudFRlbXBsYXRlU2NoZW1hIiwib2JqZWN0IiwibmFtZSIsInN0cmluZyIsIm1pbiIsInRlbXBsYXRlX3R5cGUiLCJib2R5Iiwic3ViamVjdCIsIm9wdGlvbmFsIiwibnVsbGFibGUiLCJhdmFpbGFibGVfcGxhY2Vob2xkZXJzIiwiYXJyYXkiLCJpc19hY3RpdmUiLCJib29sZWFuIiwiZGVmYXVsdCIsImNyZWF0ZURvY3VtZW50VGVtcGxhdGVTY2hlbWEiLCJvbWl0IiwiZ2V0U3VwYWJhc2VSb3V0ZUhhbmRsZXJDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldCIsInZhbHVlIiwic2V0Iiwib3B0aW9ucyIsInJlbW92ZSIsIkdFVCIsInJlcSIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGhFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwianNvbiIsInN0YXR1cyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInBhZ2UiLCJwYXJzZUludCIsInBhZ2VTaXplIiwiZmlsdGVySXNBY3RpdmUiLCJpc05hTiIsImZyb20iLCJ0byIsInF1ZXJ5Iiwic2VsZWN0IiwiY291bnQiLCJlcSIsImlkIiwib3JkZXIiLCJhc2NlbmRpbmciLCJyYW5nZSIsImNvbnNvbGUiLCJtZXNzYWdlIiwidG90YWxDb3VudCIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImVyciIsIlBPU1QiLCJyZXF1ZXN0IiwidmFsaWRhdGlvbiIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJkZXRhaWxzIiwiZmxhdHRlbiIsInRlbXBsYXRlRGF0YSIsInVzZXJfaWQiLCJpbnNlcnQiLCJzaW5nbGUiLCJjb2RlIiwiZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/document-templates/route.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/cookie","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdocument-templates%2Froute&page=%2Fapi%2Fdocument-templates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdocument-templates%2Froute.ts&appDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cegolu%5COneDrive%5CDocuments%5Cgh%5Ccrm-admin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();